# Sekai Memory System Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection URL
# Format: postgresql://username:password@host:port/database_name
DATABASE_URL=postgresql://postgres:password@localhost:5432/sekai_memory

# Alternative individual database settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sekai_memory
DB_USER=postgres
DB_PASSWORD=your_password_here

# Database pool settings
DB_MIN_CONNECTIONS=10
DB_MAX_CONNECTIONS=20

# =============================================================================
# Embedding Model Configuration
# =============================================================================

# Sentence Transformers model name
EMBEDDING_MODEL=all-MiniLM-L6-v2

# Vector dimension (must match the model)
VECTOR_DIMENSION=384

# Model cache directory (optional)
# TRANSFORMERS_CACHE=/path/to/cache

# =============================================================================
# Application Settings
# =============================================================================

# Application environment
ENVIRONMENT=development

# API Server settings
HOST=0.0.0.0
PORT=8000

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Maximum memory content length
MAX_MEMORY_CONTENT_LENGTH=2000

# Default similarity threshold for searches
DEFAULT_SIMILARITY_THRESHOLD=0.7

# Default hybrid search alpha (0.0 = all keyword, 1.0 = all semantic)
DEFAULT_HYBRID_ALPHA=0.7

# =============================================================================
# Security Settings (for production)
# =============================================================================

# Secret key for session management (generate a secure random string)
# SECRET_KEY=your-super-secret-key-here

# CORS settings (comma-separated list of allowed origins)
# CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# Optional: LLM Integration for Advanced Features
# =============================================================================

# OpenAI API key (for advanced consistency checking)
# OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI model to use
# OPENAI_MODEL=gpt-3.5-turbo

# =============================================================================
# Evaluation Settings
# =============================================================================

# Directory for evaluation results
EVAL_RESULTS_DIR=eval/results

# Consistency check threshold (memories with score below this are flagged)
CONSISTENCY_THRESHOLD=0.5

# =============================================================================
# Performance Tuning
# =============================================================================

# Batch size for bulk operations
DEFAULT_BATCH_SIZE=100

# Maximum number of search results
MAX_SEARCH_RESULTS=100

# Cache settings
ENABLE_MEMORY_CACHE=true
CACHE_TTL_SECONDS=3600

# =============================================================================
# Development Settings
# =============================================================================

# Enable debug mode (don't use in production)
DEBUG=false

# Enable auto-reload for development
AUTO_RELOAD=true

# Profiling (for performance analysis)
ENABLE_PROFILING=false

# =============================================================================
# Monitoring and Observability
# =============================================================================

# Enable metrics collection
ENABLE_METRICS=true

# Metrics export port
METRICS_PORT=9090

# Health check settings
HEALTH_CHECK_TIMEOUT=30

# =============================================================================
# Data Processing
# =============================================================================

# Chapter processing batch size
CHAPTER_BATCH_SIZE=10

# Memory extraction settings
EXTRACT_IMPORTANCE_THRESHOLD=1.0
EXTRACT_MIN_CONTENT_LENGTH=20

# =============================================================================
# Example Production Settings
# =============================================================================

# For production deployment, consider these settings:
# DATABASE_URL=postgresql://user:pass@prod-db.example.com:5432/sekai_memory
# LOG_LEVEL=WARNING
# DEBUG=false
# AUTO_RELOAD=false
# CORS_ORIGINS=https://yourdomain.com
# ENABLE_METRICS=true